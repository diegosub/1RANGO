<ion-header>

  <ion-navbar hideBackButton="true">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Meus Pedidos</ion-title>
    <ion-buttons end>
        <button ion-button icon-only color="royal" (click)="navcart()" class="header-btn-cart">
            <ion-icon name="cart"></ion-icon>
            <ion-badge class="carts" item-right color="danger">{{noOfItems}}</ion-badge>
        </button>
    </ion-buttons>
  </ion-navbar>


  <ion-segment color="dark" [(ngModel)]="page" style="background-color: #e8e8e8;">
    <ion-segment-button value="0" (click)="selectedTab(0)">
        Todos os Pedidos
    </ion-segment-button>

    <ion-segment-button value="1" (click)="selectedTab(1)">
        Avaliações Pendentes
    </ion-segment-button>
  </ion-segment>

</ion-header>


<ion-content class="fundo">


  <ion-slides #slider style="height: auto;">
    <ion-slide>
      <div style="padding: 4px;"></div>

      <ion-list *ngFor="let pedido of Pedidos ; let i=index " class="padding"><!-- list -->
        <ion-item text-wrap style="border-radius: 8px;" (click)="visualizarPedido(pedido.idPedido)"><!-- item -->
            <ion-row class="meus-pedidos"><!-- row -->
                <ion-col col-6 style="max-width: 28%;"><!-- col with 50  width -->
                    <img src="{{pedido.dsImagem}}" alt="foodname" style="height: 80px; border-radius: 50%;"/>
                </ion-col>
                <ion-col col-6 style="min-width: 70%;"><!-- col with 50% width -->

                  <div style="font-family: calibri; color: gray; font-size: 16px;">
                    <div style="float:left; width: 95%;">
                     <b>{{pedido.dsEstabelecimento}}</b>
                    </div>
                  </div>

                  <div style="font-family: calibri; color: gray; font-size: 14px;">
                    <div style="float:left; width: 95%;">
                      Código: {{pedido.idPedido}}
                    </div>
                  </div>

                  <div style="font-family: calibri; color: gray; font-size: 14px;">
                    <div style="float:left; width: 95%;">
                      {{pedido.dsStatus}}
                    </div>
                  </div>

                  <div style="float: left; width: 70%; color: #666; font-size: smaller;">
                      {{pedido.strDtCadastro}}
                  </div>
                  <div style="text-align: right; color: #DAA520;" *ngIf="pedido.idStatus == 3 && pedido.idAvaliacao == null">
                    <img src="assets/img/star-off.png" style="height: 15px; width: 15px; display:inline;"/>
                  </div>
                  <div style="text-align: right; color: #DAA520;" *ngIf="pedido.idStatus == 3 && pedido.idAvaliacao != null">
                    <img src="assets/img/star-on.gif" style="height: 15px; width: 15px; display:inline;"/>
                  </div>

                </ion-col>
            </ion-row><!--end row -->
        </ion-item><!-- item -->
      </ion-list>

    </ion-slide>

    <ion-slide>

      <div style="padding: 4px;"></div>

      <ion-list *ngFor="let pendente of Pendentes ; let i=index " class="padding"><!-- list -->
        <ion-item text-wrap style="border-radius: 8px;"  (click)="abrirAvaliacao(pendente.idPedido, pendente.idEstabelecimento)"><!-- item -->
            <ion-row class="meus-pedidos"><!-- row -->
                <ion-col col-6 style="max-width: 28%;"><!-- col with 50  width -->
                    <img src="{{pendente.dsImagem}}" alt="foodname" style="height: 80px; border-radius: 50%;"/>
                </ion-col>
                <ion-col col-6 style="min-width: 70%;"><!-- col with 50% width -->

                  <div style="font-family: calibri; color: gray; font-size: 16px;">
                    <div style="float:left; width: 95%;">
                     <b>{{pendente.dsEstabelecimento}}</b>
                    </div>
                  </div>

                  <div style="font-family: calibri; color: gray; font-size: 14px;">
                    <div style="float:left; width: 95%;">
                      Código: {{pendente.idPedido}}
                    </div>
                  </div>

                  <div style="font-family: calibri; color: gray; font-size: 14px;">
                    <div style="float:left; width: 95%;">
                      {{pendente.dsStatus}}
                    </div>
                  </div>

                  <div style="float: left; width: 70%; color: #666; font-size: smaller;">
                      {{pendente.strDtCadastro}}
                  </div>
                  <div style="text-align: right; color: #DAA520;">
                    <img src="assets/img/star-off.png" style="height: 16px; width: 16px; display:inline;"/>
                  </div>

                </ion-col>
            </ion-row><!--end row -->
        </ion-item><!-- item -->
      </ion-list>

    </ion-slide>
  </ion-slides>


</ion-content>
